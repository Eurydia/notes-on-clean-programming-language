<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.96.0"><meta charset=utf-8><meta name=description content="A language reference for CLEAN."><title>Cleanpedia</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://eurydia.github.io/cleanpedia//icon.png><link href=https://eurydia.github.io/cleanpedia/styles.b3e1e36b0403ac565c9392b3e23ef3b6.min.css rel=stylesheet><link href=https://eurydia.github.io/cleanpedia/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://eurydia.github.io/cleanpedia/js/darkmode.c7bf66e3c7098cf23280f76232e7b9e4.min.js></script>
<script src=https://eurydia.github.io/cleanpedia/js/util.9825137f5e7825e8553c68ce39ac9e44.min.js></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://eurydia.github.io/cleanpedia/js/popover.abe6a51cc7138c5dff00f151dd627ad1.min.js></script>
<script src=https://eurydia.github.io/cleanpedia/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://eurydia.github.io/cleanpedia/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://eurydia.github.io/cleanpedia/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://eurydia.github.io/cleanpedia/",fetchData=Promise.all([fetch("https://eurydia.github.io/cleanpedia/indices/linkIndex.cac75ecdf993bcfd9876c0f4e5ddade8.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://eurydia.github.io/cleanpedia/indices/contentIndex.f66a573b28f323df72856e58da4574fe.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://eurydia.github.io/cleanpedia",!0,!1);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://eurydia.github.io/cleanpedia",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:5,opacityScale:3,repelForce:2,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:5,opacityScale:3,repelForce:2,scale:1.2})}},init=()=>{addCopyButtons(),addTitleToCodeBlocks()}</script><script type=module>
    import { attachSPARouting } from "https:\/\/eurydia.github.io\/cleanpedia\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><body><div class=singlePage><header><h1 id=page-title><a href=https://eurydia.github.io/cleanpedia/>Cleanpedia</a></h1><div class=spacer></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><aside class=mainTOC><details open><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#introduction>Introduction</a></li><li><a href=#functions>Functions</a><ol><li><a href=#defining-a-function>Defining a Function</a></li><li><a href=#guarded-expressions>Guarded Expressions</a></li><li><a href=#partial-functions>Partial Functions</a></li><li><a href=#lambda-functions>Lambda Functions</a></li><li><a href=#case-expressions>Case Expressions</a></li><li><a href=#pattern-match-expressions>Pattern-Match Expressions</a></li><li><a href=#local-definitions>Local Definitions</a></li><li><a href=#operators>Operators</a></li><li><a href=#constants>Constants</a></li><li><a href=#typing-functions>Typing Functions</a></li></ol></li><li><a href=#built-in-types>Built-In Types</a><ol><li><a href=#integers>Integers</a></li><li><a href=#real-numbers>Real Numbers</a></li><li><a href=#booleans>Booleans</a></li><li><a href=#characters>Characters</a></li><li><a href=#lists>Lists</a></li><li><a href=#tuples>Tuples</a></li><li><a href=#arrays>Arrays</a></li></ol></li><li><a href=#defining-new-types>Defining New Types</a><ol><li><a href=#algebraic-data-types>Algebraic Data Types</a></li><li><a href=#record-types>Record Types</a></li><li><a href=#synonym-types>Synonym Types</a></li></ol></li><li><a href=#overloading>Overloading</a><ol><li><a href=#overloaded-functions>Overloaded Functions</a></li><li><a href=#classes>Classes</a></li></ol></li><li><a href=#appendix-a-standard-environment>Appendix A: Standard Environment</a></li></ol></nav></details></aside><a href=#introduction><h2 id=introduction><span class=hanchor arialabel=Anchor># </span>Introduction</h2></a><p>The motivation of this reference is to create an accessible, concise, and clear documentation for those who are seeking to learn CLEAN.</p><p>The same information can be found on:</p><ul><li><a href=https://cloogle.org/ rel=noopener>Cloogle</a> which is the language’s search engine, and</li><li><a href=https://cloogle.org/doc/ rel=noopener>language report</a> which describes the syntax and BNF of Clean.</li></ul><p>However, this documentation is not official.
Terminologies and explanations may not be entirely true to the references used.</p><p>In addition, the language report, which was the primary source of this documentation, was written for the version 2.0 of CLEAN.</p><p>If you notice any mistake or have suggestions for improvements, please feel free to contact me through the following channels:</p><ul><li>Email:
<a rel=noopener class="internal-link broken" data-src=mailto:b9xp3x@inf.elte.hu>b9xp3x@inf.elte.hu</a></li><li>Instagram:
<a href=https://www.instagram.com/_kornthana/ rel=noopener>@_kornthana</a></li><li>Telegram channel:
<a href=https://t.me/+El6CtwOD8KxhYmU9 rel=noopener>https://t.me/+El6CtwOD8KxhYmU9</a></li></ul><hr><a href=#functions><h2 id=functions><span class=hanchor arialabel=Anchor># </span>Functions</h2></a><p>As a functional language, functions make up everything in CLEAN.
Operators are a special kind of arity-two functions which can be placed between its arguments.
In the same sense, constants are simply arity-zero functions.</p><p>In this Section, concepts regarding functions are discussed in details.</p><a href=#defining-a-function><h3 id=defining-a-function><span class=hanchor arialabel=Anchor># </span>Defining a Function</h3></a><p>A function definition consists of at least one function implementation.</p><p>Optionally, a function definition can have multiple implementations.
It can be explicitly typed as well.</p><a href=#control-form-of-function-implementation><h4 id=control-form-of-function-implementation><span class=hanchor arialabel=Anchor># </span>Control Form of Function Implementation</h4></a><p>Since a function definition consists of one or more function implementations, let&rsquo;s discuss what a function implementation looks like.</p><p>The control form of a function implementation is as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>name param = expr
</span></span></code></pre></td></tr></table></div></div><p>A function implementation has three components.</p><table><thead><tr><th>Component</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>Function name</td></tr><tr><td><code>param</code></td><td>Parameters</td></tr><tr><td><code>expr</code></td><td>Return value</td></tr></tbody></table><p>Multiple parameters are space separated.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>name paramA paramB = expression
</span></span></code></pre></td></tr></table></div></div><p>A single control form is enough for a valid function definition.</p><a href=#example-function-definition><h4 id=example-function-definition><span class=hanchor arialabel=Anchor># </span>Example Function Definition</h4></a><p>To demonstrate a practical function definition, a function called <code>negate</code> is describe as the following:</p><ul><li>it accepts one integer as argument, and</li><li>it returns the negated value of the given integer.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>negate x = x * (-1)
</span></span></code></pre></td></tr></table></div></div><p>The definition of <code>negates</code> follows the control form of function implementation.</p><table><thead><tr><th>Control form</th><th>Proper form</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>negate</code></td></tr><tr><td><code>param</code></td><td><code>x</code></td></tr><tr><td><code>expr</code></td><td><code>x * (-1)</code></td></tr></tbody></table><a href=#implementation-rules><h4 id=implementation-rules><span class=hanchor arialabel=Anchor># </span>Implementation Rules</h4></a><p>The following rules come into effect when a function definition has multiple function implementations.</p><a href=#implementation-grouping-rule><h5 id=implementation-grouping-rule><span class=hanchor arialabel=Anchor># </span>Implementation Grouping Rule</h5></a><blockquote><p>Implementations of a function must be together.</p></blockquote><p>To demonstrate, a function called <code>safeDivide</code> is described as follows:</p><ul><li>it accepts two integer arguments,</li><li>it returns the result of division, but</li><li>it returns zero when given denominator is zero.</li></ul><p>The function can be defined with two implementations.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>safeDivide m 0 = 0
</span></span><span class=line><span class=cl>safeDivide m n = m / n
</span></span></code></pre></td></tr></table></div></div><p>On the other hand, a definition is no longer valid if it does not follow this rule.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>safeDivide m 0 = 0
</span></span><span class=line><span class=cl>6 + 2
</span></span><span class=line><span class=cl>safeDivide m n = m / n
</span></span></code></pre></td></tr></table></div></div><p>The expression (<code>6 + 2</code>) invalidates the function definition since the implementations of <code>safeDivide</code> are no longer grouped together.</p><a href=#implementation-signature-rule><h4 id=implementation-signature-rule><span class=hanchor arialabel=Anchor># </span>Implementation Signature Rule</h4></a><blockquote><p>Implementations of a function must share a single signature.</p></blockquote><p>To demonstrate, a function <code>badSafeDivide</code> is defined in such a way that it breaks this rule.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>badSafeDivide m 0 = False
</span></span><span class=line><span class=cl>badSafeDivide m n = m / n
</span></span></code></pre></td></tr></table></div></div><p>The first implementation of <code>badSafeDivide</code> returns a Boolean value, but the second returns an integer.
This conflict of signatures invalidates the function definition.</p><a href=#implementation-selection-rule><h4 id=implementation-selection-rule><span class=hanchor arialabel=Anchor># </span>Implementation Selection Rule</h4></a><blockquote><p>Implementations of a function are tried from top to bottom.
An implementation is selected if arguments match with parameters.</p></blockquote><p>To demonstrate, <code>safeDivide</code> is called with nine and six respectively.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>safeDivide 9 6
</span></span></code></pre></td></tr></table></div></div><p>The first implementation is tried.</p><p>The first parameter (<code>m</code>) matches with nine.</p><table><thead><tr><th>Pair #</th><th>Parameter</th><th>Argument</th><th>Result</th></tr></thead><tbody><tr><td>1</td><td><code>m</code></td><td><code>9</code></td><td>Pass</td></tr></tbody></table><p>The second parameter (<code>0</code>) does not match with the second argument (<code>6</code>).</p><table><thead><tr><th>Pair #</th><th>Parameter</th><th>Argument</th><th>Result</th></tr></thead><tbody><tr><td>1</td><td><code>m</code></td><td><code>9</code></td><td>Pass</td></tr><tr><td>2</td><td><code>0</code></td><td><code>6</code></td><td>Fail</td></tr></tbody></table><p>The first implementation is not chosen.</p><p>Next, the second implementation is tried.
Since both parameters wildcards, they will match with both arguments.</p><table><thead><tr><th>Pair #</th><th>Parameter</th><th>Argument</th><th>Result</th></tr></thead><tbody><tr><td>1</td><td><code>m</code></td><td><code>9</code></td><td>Pass</td></tr><tr><td>2</td><td><code>n</code></td><td><code>6</code></td><td>Pass</td></tr></tbody></table><p>Thus, the second implementation is chosen for evaluation.</p><p>It should be noted that if implementation order is changed, then the function would have unintended behaviors.</p><p>To demonstrate, the order of implementations of <code>safeDivide</code> is changed in such an way that they will produce unintended effects.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>safeDivide m n = m / n
</span></span><span class=line><span class=cl>safeDivide m 0 = 0
</span></span></code></pre></td></tr></table></div></div><p>It is clear that the second implementation is never reached.
Even if <code>safeDivide</code> is called with <code>0</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>safeDivAlt 9 0  // Uh oh
</span></span></code></pre></td></tr></table></div></div><p>More importantly, this rule is not performing equality checks.</p><p>If the equality operation is not implemented on a type, this rule would still work.
This concept of user-defined types is discussed in later Sections.</p><a href=#guarded-expressions><h3 id=guarded-expressions><span class=hanchor arialabel=Anchor># </span>Guarded Expressions</h3></a><p>So far, each function implementation has one expression associated with it .</p><p>Guarded expressions can be introduced to an implementation, which allow it to have multiple expressions.</p><a href=#control-form-of-a-guarded-expression><h4 id=control-form-of-a-guarded-expression><span class=hanchor arialabel=Anchor># </span>Control Form of a Guarded Expression</h4></a><p>A control implementation with one guarded expression is written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>name param
</span></span><span class=line><span class=cl>| guard = expr
</span></span></code></pre></td></tr></table></div></div><p>Each guarded expression must start with a vertical bar (<code>|</code>).</p><p>A guarded expression has two components:</p><table><thead><tr><th>Component</th><th>Description</th></tr></thead><tbody><tr><td><code>guard</code></td><td>A Boolean expression</td></tr><tr><td><code>expr</code></td><td>Return value</td></tr></tbody></table><p>An implementation with multiple guarded expression may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>name param
</span></span><span class=line><span class=cl>| guardA = exprA
</span></span><span class=line><span class=cl>| guardB = exprB
</span></span><span class=line><span class=cl>| guardC = exprC
</span></span></code></pre></td></tr></table></div></div><p>Moreover, guarded expressions can be nested.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>name param
</span></span><span class=line><span class=cl>| guardA
</span></span><span class=line><span class=cl>    | guardAA = exprAA
</span></span></code></pre></td></tr></table></div></div><a href=#guarded-expression-rules><h4 id=guarded-expression-rules><span class=hanchor arialabel=Anchor># </span>Guarded Expression Rules</h4></a><p>Similar to function implementation rules discussed earlier, guarded expressions has rules which they must follow.</p><a href=#guarded-expression-signature-rule><h4 id=guarded-expression-signature-rule><span class=hanchor arialabel=Anchor># </span>Guarded Expression Signature Rule</h4></a><blockquote><p>Expressions of guarded expressions must have a single type.</p></blockquote><p>To demonstrate, a function called <code>signum</code> is described as follows:</p><ul><li>it accepts one integer argument, and</li><li>it returns the sign of that integer.</li></ul><p>It can be defined with two implementation and two guarded expressions.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>signum 0 =  0
</span></span><span class=line><span class=cl>signum n
</span></span><span class=line><span class=cl>| n &gt; 0  =  1
</span></span><span class=line><span class=cl>| n &lt; 0  = -1
</span></span></code></pre></td></tr></table></div></div><p>The definition above is valid since every expression returns an integer.</p><p>On the other hand, an invalid definition may look as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>badSignum 0 = 0
</span></span><span class=line><span class=cl>badSignum n
</span></span><span class=line><span class=cl>| n &gt; 0     =  True
</span></span><span class=line><span class=cl>| n &lt; 0     = -1
</span></span></code></pre></td></tr></table></div></div><a href=#guarded-expression-selection-rule><h5 id=guarded-expression-selection-rule><span class=hanchor arialabel=Anchor># </span>Guarded Expression Selection Rule</h5></a><blockquote><p>Guarded expressions are tried from top to bottom, but only after their implementation is chosen.</p></blockquote><p>To demonstrate, <code>signum</code> is called with zero.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>signum 0
</span></span></code></pre></td></tr></table></div></div><p>The first implementation is tried, the first parameter matches with the argument.</p><table><thead><tr><th>Implementation #</th><th>Parameter</th><th>Argument</th><th>Result</th></tr></thead><tbody><tr><td>1</td><td><code>0</code></td><td><code>0</code></td><td>Not matching</td></tr></tbody></table><p>The first implementation is chosen.</p><p>In this call, none of the guards was tried because the implementation that they belong to is not reached.</p><p>Instead, to demonstrate, <code>signum</code> is called with non-zero integer.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>signum -9
</span></span></code></pre></td></tr></table></div></div><p>The first implementation fails to match.</p><table><thead><tr><th>Implementation #</th><th>Parameter</th><th>Argument</th><th>Result</th></tr></thead><tbody><tr><td>1</td><td><code>0</code></td><td><code>-9</code></td><td>Not matching</td></tr></tbody></table><p>But the second implementation will match.</p><table><thead><tr><th>Implementation #</th><th>Parameter</th><th>Argument</th><th>Result</th></tr></thead><tbody><tr><td>1</td><td><code>0</code></td><td><code>-9</code></td><td>Not matching</td></tr><tr><td>2</td><td><code>n</code></td><td><code>-9</code></td><td>Matching</td></tr></tbody></table><p>Each guard of the second implementation is tried in order.
The first guard to yield true will be chosen.</p><p>The first guard (<code>n > 0</code>) is tried.
It evaluates to false, and its expression is not selected.</p><table><thead><tr><th>Guard #</th><th>Guard</th><th>Result</th></tr></thead><tbody><tr><td>1</td><td><code>n > 0</code></td><td>False</td></tr></tbody></table><p>The second guard is tried (<code>n &lt; 0</code>).</p><table><thead><tr><th>Guard #</th><th>Guard</th><th>Result</th></tr></thead><tbody><tr><td>1</td><td><code>n > 0</code></td><td>False</td></tr><tr><td>2</td><td><code>n &lt; 0</code></td><td>True</td></tr></tbody></table><p>It evaluates to true, and its expression is chosen.</p><p>Similarly, the same happens for nested guarded expressions.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>functionA parameter = expression
</span></span><span class=line><span class=cl>functionA parameter
</span></span><span class=line><span class=cl>| guardA
</span></span><span class=line><span class=cl>    | guardAA       = expressionAA
</span></span></code></pre></td></tr></table></div></div><p>In <code>functionA</code>, for <code>expresssionAA</code> to be selected, the second implementation must be selected, as well as, <code>guardA</code> and <code>guardAA</code> must evaluate to true.</p><p>In addition, <code>otherwise</code> keyword may used in place of a guard.
It always evaluates to true.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>signumAlt 0 =  0
</span></span><span class=line><span class=cl>signumAlt n
</span></span><span class=line><span class=cl>| n &gt; 0     =  1
</span></span><span class=line><span class=cl>| otherwise = -1
</span></span></code></pre></td></tr></table></div></div><p>The order of the guarded bodieexpressions also matters.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>badSignumAlt 0 =  0
</span></span><span class=line><span class=cl>badSignumAlt n
</span></span><span class=line><span class=cl>| otherwise    = -1
</span></span><span class=line><span class=cl>| n &gt; 0        =  1
</span></span></code></pre></td></tr></table></div></div><a href=#partial-functions><h3 id=partial-functions><span class=hanchor arialabel=Anchor># </span>Partial Functions</h3></a><p>Partial functions result in a run-time error when called with values outside of its domain.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>fibPartial 1 = 1
</span></span><span class=line><span class=cl>fibPartial 2 = 1
</span></span><span class=line><span class=cl>fibPartial n = fibPartial (n - 1) + fibPartial (n - 2)
</span></span></code></pre></td></tr></table></div></div><p>The definition of <code>fibPartial</code> is partial.
It results in a run-time error when called any integer less than one.</p><p>Implementations with guarded expressions can be partial as well.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>fibPartial n
</span></span><span class=line><span class=cl>| n == 1    = 1
</span></span><span class=line><span class=cl>| n == 2    = 1
</span></span><span class=line><span class=cl>| otherwise = fibPartial (n - 1) + fibPartial (n - 2)
</span></span></code></pre></td></tr></table></div></div><p>By extending its domain, a partial function can be transformed into a complete function.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>fibComplete n
</span></span><span class=line><span class=cl>| n &lt;= 0    = 0
</span></span><span class=line><span class=cl>| n == 1    = 1
</span></span><span class=line><span class=cl>| n == 2    = 1
</span></span><span class=line><span class=cl>| otherwise = fibComplete (n - 1) + fibComplete (n - 2)
</span></span></code></pre></td></tr></table></div></div><p>However, this fix might not make semantic sense to do so.
Alternatively, <code>abort</code> from <code>StdMisc</code> can be used to solve the semantic issue.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>fibComplete n
</span></span><span class=line><span class=cl>| n &lt;= 0    = abort &#34;fibCompleteAlt called outside of domain&#34;
</span></span><span class=line><span class=cl>| n == 1    = 1
</span></span><span class=line><span class=cl>| n == 2    = 1
</span></span><span class=line><span class=cl>| otherwise = fibComplete (n - 1) + fibComplete (n - 2)
</span></span></code></pre></td></tr></table></div></div><p>The module <code>StdMisc</code> is discussed in more details in
<a href=/cleanpedia/appendix-a/stdmisc/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdmisc/>StdMisc</a>.</p><a href=#lambda-functions><h3 id=lambda-functions><span class=hanchor arialabel=Anchor># </span>Lambda Functions</h3></a><p>A control lambda function may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>\ parameter = expression
</span></span></code></pre></td></tr></table></div></div><p>Alternatively, dot (<code>.</code>) and right arrow (<code>-></code>) may be used to separate parameters from expression.
It should be noted that they have different semantic meanings.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>\ parameter .  expression
</span></span><span class=line><span class=cl>\ parameter -&gt; expression
</span></span></code></pre></td></tr></table></div></div><p>Parameters of a lambda function are space separated.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>\ paramA paramB = expression
</span></span></code></pre></td></tr></table></div></div><p>Guarded expressions can be introduced as well.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>\ parameter | guardA = expressionA | guardB = expressionB | guardC = expressionC
</span></span></code></pre></td></tr></table></div></div><p>To increase readability, a lambda definition maybe placed between a pair of parentheses, which allows it to span multiple lines.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>(\ parameter 
</span></span><span class=line><span class=cl>| guardA = expressionA 
</span></span><span class=line><span class=cl>| guardB = expressionB 
</span></span><span class=line><span class=cl>| guardC = expressionC)
</span></span></code></pre></td></tr></table></div></div><a href=#case-expressions><h3 id=case-expressions><span class=hanchor arialabel=Anchor># </span>Case Expressions</h3></a><p>A <code>case..of..</code> expression matches a given expression with one of its patterns, and a control expression with one pattern may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>case expression of
</span></span><span class=line><span class=cl>pattern = altExpression
</span></span></code></pre></td></tr></table></div></div><p>Alternatively, right double arrow (<code>=></code>) and right arrow (<code>-></code>) may be used to separated a pattern from an alternative expression, but they are not allowed to mix.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>case expression of
</span></span><span class=line><span class=cl>pattern =&gt; altExpression
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>case expression of
</span></span><span class=line><span class=cl>pattern -&gt; altExpression
</span></span></code></pre></td></tr></table></div></div><p>Multiple patterns and alternative expressions can be introduced in the same way.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>case expression of
</span></span><span class=line><span class=cl>patternA = altExpressionA
</span></span><span class=line><span class=cl>patternB = altExpressionB
</span></span><span class=line><span class=cl>patternC = altExpressionC
</span></span></code></pre></td></tr></table></div></div><p>Guarded expressions can be introduced as well, which allows a case to have multiple guarded bodies.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>case expression of
</span></span><span class=line><span class=cl>patternA
</span></span><span class=line><span class=cl>| guardA = altExpressionAA
</span></span><span class=line><span class=cl>| guardB = altExpressionAB
</span></span><span class=line><span class=cl>| guardC = altExpressionAC
</span></span></code></pre></td></tr></table></div></div><p>Internally, a <code>case..of..</code> expression is compiled to a function.
That is, each case is transformed into an implementation of a function.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>__compiledExpr patternA = altExpressionA
</span></span><span class=line><span class=cl>__compiledExpr patternB = altExpressionB
</span></span><span class=line><span class=cl>__compiledExpr patternC = altExpressionC
</span></span></code></pre></td></tr></table></div></div><p>This explains why guarded expressions can be introduced.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>__compiledExpr patternA
</span></span><span class=line><span class=cl>| guardAA               = altExpressionAA
</span></span><span class=line><span class=cl>| guardAB               = altExpressionAB
</span></span><span class=line><span class=cl>| guardAC               = altExpressionAC
</span></span></code></pre></td></tr></table></div></div><p>Consequently, such an expression can result in a run-time error since it is translated into a partial function.</p><a href=#pattern-match-expressions><h3 id=pattern-match-expressions><span class=hanchor arialabel=Anchor># </span>Pattern-Match Expressions</h3></a><p>A pattern-match expression checks an expression against a pattern, and a control expression may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>expression =: pattern
</span></span></code></pre></td></tr></table></div></div><p>If a given expression matches with the pattern, it yields <code>true</code>.</p><p>Internally, it is compiled down to a <code>case..of..</code> expression.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>case expression of
</span></span><span class=line><span class=cl>pattern = True
</span></span><span class=line><span class=cl>_       = False
</span></span></code></pre></td></tr></table></div></div><a href=#local-definitions><h3 id=local-definitions><span class=hanchor arialabel=Anchor># </span>Local Definitions</h3></a><a href=#let-expressions><h4 id=let-expressions><span class=hanchor arialabel=Anchor># </span>Let Expressions</h4></a><p>A <code>let..in..</code> expression introduces a new scope within another expression.</p><p>A control expression with one local definition may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>let
</span></span><span class=line><span class=cl>    localFunction x = ...
</span></span><span class=line><span class=cl>in expression
</span></span></code></pre></td></tr></table></div></div><p>Definitions are local to <code>expression</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[let 
</span></span><span class=line><span class=cl>    a = i * i 
</span></span><span class=line><span class=cl>in (a, a) \\ i &lt;- [0..n]]
</span></span></code></pre></td></tr></table></div></div><a href=#where-blocks><h4 id=where-blocks><span class=hanchor arialabel=Anchor># </span>Where Blocks</h4></a><p>A <code>where</code> block can be introduced to the end of a function implementation.
It introduces a new scope local to that implementation.</p><p>A control <code>where</code> block with one definition may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>functionA parameter = expression
</span></span><span class=line><span class=cl>where
</span></span><span class=line><span class=cl>    localFunc x = ...
</span></span><span class=line><span class=cl>functionA parameter = expression
</span></span></code></pre></td></tr></table></div></div><p>The second implementation does not have access to <code>localFunc</code> which is local to the first implementation.</p><a href=#with-blocks><h4 id=with-blocks><span class=hanchor arialabel=Anchor># </span>With Blocks</h4></a><p>A <code>with</code> block can be introduced to the end of a guarded.
It introduces a new scope local to that guarded expression.</p><p>A control <code>with</code> block with one definition may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>functionA parameter
</span></span><span class=line><span class=cl>| guardA = expressionA
</span></span><span class=line><span class=cl>with 
</span></span><span class=line><span class=cl>    localFunc x = ...
</span></span><span class=line><span class=cl>| guardB = expressionB
</span></span></code></pre></td></tr></table></div></div><p>However, the guard itself does not have access to definitions within its <code>with</code> block.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>functionA n
</span></span><span class=line><span class=cl>| x == 0    = 0
</span></span><span class=line><span class=cl>with 
</span></span><span class=line><span class=cl>    x = n mod 2
</span></span><span class=line><span class=cl>| otherwise = 1
</span></span></code></pre></td></tr></table></div></div><p>The definition of <code>functionA</code> is not valid since the guard cannot reference <code>x</code>.</p><a href=#operators><h3 id=operators><span class=hanchor arialabel=Anchor># </span>Operators</h3></a><p>Operators are arity-two functions.
They can be applied in infix position or invoked like ordinary functions.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>1 + 1  // applied as an operator
</span></span></code></pre></td></tr></table></div></div><p>To invoke an operator as an ordinary function, the operator name must be placed inside parentheses, and in front of its arguments.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>(+) 1 1  // invoked as an ordinary function
</span></span></code></pre></td></tr></table></div></div><p>When applied in infix position, both arguments must be given.
Operators can be curried, but only when they are invoked as ordinary functions.</p><a href=#operator-precedence><h4 id=operator-precedence><span class=hanchor arialabel=Anchor># </span>Operator Precedence</h4></a><p>The precedence determines how tightly an operator binds to its argument.
Precedence can be between zero and nine with higher number having higher precedence.</p><p>The precedence of an operator is nine by default.</p><a href=#operator-associativity><h4 id=operator-associativity><span class=hanchor arialabel=Anchor># </span>Operator Associativity</h4></a><p>The associativity is important when evaluating two operators of the same precedence.
There are three types of associativity:</p><ul><li><code>infix</code> for non-associative operators,</li><li><code>infixl</code> for left-associative operators, and</li><li><code>infixr</code> for right-associative operators.</li></ul><p>The associativity of an operator is <code>infixl</code> by default.</p><a href=#operator-definitions><h4 id=operator-definitions><span class=hanchor arialabel=Anchor># </span>Operator Definitions</h4></a><p>An operator can be defined by placing its name between parentheses.
It can be implemented as if it was an ordinary function.</p><p>A control operator definition may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>(operator) paramL paramR = expression
</span></span></code></pre></td></tr></table></div></div><a href=#operator-conflict><h4 id=operator-conflict><span class=hanchor arialabel=Anchor># </span>Operator Conflict</h4></a><p>Operators can conflict with one another.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>(&lt;=&gt;) infixl 9 :: Bool  Bool  -&gt; Bool
</span></span><span class=line><span class=cl>(&lt;=&gt;)             True  True  =  True
</span></span><span class=line><span class=cl>(&lt;=&gt;)             False False =  True
</span></span><span class=line><span class=cl>(&lt;=&gt;)             _     _     =  False
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>(--&gt;) infixr 9 :: Bool Bool  -&gt; Bool
</span></span><span class=line><span class=cl>(--&gt;)             True False =  False
</span></span><span class=line><span class=cl>(--&gt;)             _     _    =  True
</span></span></code></pre></td></tr></table></div></div><p>It is not allowed to apply operators with equal precedence in an expression in such a way that their associativity conflict.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>True --&gt; False &lt;=&gt; False
</span></span></code></pre></td></tr></table></div></div><p>The
<a href=https://en.wikipedia.org/wiki/Material_conditional rel=noopener>logical implication</a> operator (<code>--></code>) is right-associated.
It implies that the expression should be evaluated as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>True --&gt; (False &lt;=&gt; False)
</span></span></code></pre></td></tr></table></div></div><p>However, the
<a href=https://en.wikipedia.org/wiki/Logical_equivalence rel=noopener>logical equivalence</a> operator (<code>&lt;=></code>) is left associated.
It implies that the expression should be evaluated as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>(True --&gt; False) &lt;=&gt; False
</span></span></code></pre></td></tr></table></div></div><p>Since both operators have the same precedence and the order of evaluation cannot be decided by their associativity, this expression will result in a compile-time error.</p><a href=#constants><h3 id=constants><span class=hanchor arialabel=Anchor># </span>Constants</h3></a><p>There are two distinct types of constants; constant expressions and constant functions.</p><a href=#constant-expressions><h4 id=constant-expressions><span class=hanchor arialabel=Anchor># </span>Constant Expressions</h4></a><p>They are computed only once.
Multiple reference to the same expression will result in sharing of that expression.</p><p>A control constant expression may be written as follows</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>constExprName = expression
</span></span></code></pre></td></tr></table></div></div><p>In global scope, a constant expression may be explicitly defined with <code>=:</code> symbol.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// In global scope
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>constExprName =: expression
</span></span></code></pre></td></tr></table></div></div><a href=#constant-functions><h4 id=constant-functions><span class=hanchor arialabel=Anchor># </span>Constant Functions</h4></a><p>They are arity-zero functions.
Unlike constant expressions, they are re-computed every they invoked.</p><p>A control constant function may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>constFnName = expression
</span></span></code></pre></td></tr></table></div></div><p>In global scope, a constant function may be explicitly defined with right double arrow (<code>=></code>).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// In global scope
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>constFnName =&gt; expression
</span></span></code></pre></td></tr></table></div></div><a href=#typing-functions><h3 id=typing-functions><span class=hanchor arialabel=Anchor># </span>Typing Functions</h3></a><p>Although the compiler is generally capable of inferring function types, explicit specification is highly recommended to increase readability.</p><p>When a function definition is explicitly typed, implementations must obey the type, instead of the first implementation&rsquo;s signature.</p><p>A control function type may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>parameterType -&gt; returnType
</span></span></code></pre></td></tr></table></div></div><p>Parameter types are space separated.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>paramAType paramBType -&gt; returnType
</span></span></code></pre></td></tr></table></div></div><a href=#typing-ordinary-functions><h4 id=typing-ordinary-functions><span class=hanchor arialabel=Anchor># </span>Typing Ordinary Functions</h4></a><p>A control function definition with one parameter may be explicitly typed as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>functionA :: parameterType -&gt; expressionType
</span></span><span class=line><span class=cl>functionA    parameter     =  expression
</span></span></code></pre></td></tr></table></div></div><p>Parameter types are space separated.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>functionB :: paramAType paramBType -&gt; expressionType
</span></span><span class=line><span class=cl>functionB    paramA     paramB     =  expression
</span></span></code></pre></td></tr></table></div></div><a href=#typing-operators><h4 id=typing-operators><span class=hanchor arialabel=Anchor># </span>Typing Operators</h4></a><p>A control operator definition may be explicitly typed as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>(operator) :: paramLType paramRType -&gt; expressionType
</span></span><span class=line><span class=cl>(operator)    paramL     paramR     =  expression
</span></span></code></pre></td></tr></table></div></div><p>In addition, operator associativity (<code>A</code>) and precedence (<code>P</code>) may be specified as well.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>(operator) A P :: paramLType paramRType -&gt; expressionType
</span></span><span class=line><span class=cl>(operator)        paramL     paramR     =  expression
</span></span></code></pre></td></tr></table></div></div><hr><a href=#built-in-types><h2 id=built-in-types><span class=hanchor arialabel=Anchor># </span>Built-In Types</h2></a><p>Types like integers, Booleans, characters, real numbers, lists, tuples, and arrays are frequently used.
They have been predefined for reasons of efficiency and convenience.</p><p>There are four built-in primitive types:</p><ul><li>integer type,</li><li>real number type,</li><li>Boolean type, and</li><li>character type.</li></ul><p>There are three built-in structured types:</p><ul><li>list type,</li><li>array type, and</li><li>tuple type.</li></ul><a href=#integers><h3 id=integers><span class=hanchor arialabel=Anchor># </span>Integers</h3></a><a href=#constructing-integers><h4 id=constructing-integers><span class=hanchor arialabel=Anchor># </span>Constructing Integers</h4></a><p>There are three methods to construct integer literals;</p><ul><li>from decimal notation,</li><li>from octal notation, and</li><li>from hexadecimal notation.</li></ul><p>Integer literals constructed with decimal notation may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-13
</span></span><span class=line><span class=cl> 0
</span></span><span class=line><span class=cl> 13
</span></span></code></pre></td></tr></table></div></div><p>Integer literals constructed with octal notation may be written by prefixing octal digits with <code>0</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-015  // decimal -13
</span></span><span class=line><span class=cl> 0
</span></span><span class=line><span class=cl> 015  // decimal  13
</span></span></code></pre></td></tr></table></div></div><p>Integers literals constructed with hexadecimal notation may be written by prefixing hexadecimal digits with <code>0x</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-0xD  // decimal -13
</span></span><span class=line><span class=cl> 0
</span></span><span class=line><span class=cl> 0xd  // decimal  13
</span></span></code></pre></td></tr></table></div></div><a href=#typing-integers><h4 id=typing-integers><span class=hanchor arialabel=Anchor># </span>Typing Integers</h4></a><p>An expression of integer type may be explicitly typed using <code>Int</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>expr :: Int
</span></span><span class=line><span class=cl>expr =  1 + 1
</span></span></code></pre></td></tr></table></div></div><a href=#integer-operators-and-functions><h4 id=integer-operators-and-functions><span class=hanchor arialabel=Anchor># </span>Integer Operators And Functions</h4></a><p>Integer operations and functions are discussed in more details on
<a href=/cleanpedia/appendix-a/stdint/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdint/>Appendix A: StdInt</a>.</p><a href=#real-numbers><h3 id=real-numbers><span class=hanchor arialabel=Anchor># </span>Real Numbers</h3></a><a href=#constructing-real-number><h4 id=constructing-real-number><span class=hanchor arialabel=Anchor># </span>Constructing Real Number</h4></a><p>There are two methods to construct real number literals;</p><ul><li>from decimal notation, and</li><li>from scientific notation.</li></ul><p>Real number literals constructed with decimal notation may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-1.3
</span></span><span class=line><span class=cl> 0.0
</span></span><span class=line><span class=cl> 1.3
</span></span></code></pre></td></tr></table></div></div><p>Real number literals constructed with scientific notation may be written using <code>..E..</code> form.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-13E-2  // -0.13
</span></span><span class=line><span class=cl> 0E0    //  0
</span></span><span class=line><span class=cl> 13E-2  //  0.13
</span></span></code></pre></td></tr></table></div></div><p>When constructing a real number literal with scientific notation, the expression may result in an integer instead of a real number.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>13E2  // 1300
</span></span></code></pre></td></tr></table></div></div><a href=#typing-real-numbers><h4 id=typing-real-numbers><span class=hanchor arialabel=Anchor># </span>Typing Real Numbers</h4></a><p>An expression of real number type may be explicitly typed using <code>Real</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>expr :: Real
</span></span><span class=line><span class=cl>expr =  1.0 + 1.0
</span></span></code></pre></td></tr></table></div></div><a href=#real-number-operators-and-functions><h4 id=real-number-operators-and-functions><span class=hanchor arialabel=Anchor># </span>Real Number Operators And Functions</h4></a><p>Real number operations and functions are discussed in more details on
<a href=/cleanpedia/appendix-a/stdreal/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdreal/>Appendix A: StdReal</a>.</p><a href=#booleans><h3 id=booleans><span class=hanchor arialabel=Anchor># </span>Booleans</h3></a><a href=#constructing-booleans><h4 id=constructing-booleans><span class=hanchor arialabel=Anchor># </span>Constructing Booleans</h4></a><p>There are two methods to construct Boolean literals.
Each constructor represent a Boolean value.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>True
</span></span><span class=line><span class=cl>False
</span></span></code></pre></td></tr></table></div></div><a href=#typing-booleans><h4 id=typing-booleans><span class=hanchor arialabel=Anchor># </span>Typing Booleans</h4></a><p>An expression of Boolean type may be explicitly typed using <code>Bool</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>expr :: Bool
</span></span><span class=line><span class=cl>expr =  1 == 1
</span></span></code></pre></td></tr></table></div></div><a href=#boolean-operations-and-functions><h4 id=boolean-operations-and-functions><span class=hanchor arialabel=Anchor># </span>Boolean Operations and Functions</h4></a><p>Boolean operations and functions are discussed in more details on
<a href=/cleanpedia/appendix-a/stdbool/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdbool/>Appendix A: StdBool</a>.</p><a href=#characters><h3 id=characters><span class=hanchor arialabel=Anchor># </span>Characters</h3></a><a href=#constructing-characters><h4 id=constructing-characters><span class=hanchor arialabel=Anchor># </span>Constructing Characters</h4></a><p>A character may be constructed by placing one character inside a pair of single quotation marks (<code>'..'</code>).</p><p>Characters constructed in the same way.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&#39;a&#39;
</span></span><span class=line><span class=cl>&#39;9&#39;
</span></span><span class=line><span class=cl>&#39;Z&#39;
</span></span><span class=line><span class=cl>&#39;+&#39;
</span></span></code></pre></td></tr></table></div></div><a href=#typing-characters><h4 id=typing-characters><span class=hanchor arialabel=Anchor># </span>Typing Characters</h4></a><p>An expression of character type may be explicitly typed using <code>Char</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>expr :: Char
</span></span><span class=line><span class=cl>expr =  &#39;a&#39;
</span></span></code></pre></td></tr></table></div></div><a href=#character-operations-and-functions><h4 id=character-operations-and-functions><span class=hanchor arialabel=Anchor># </span>Character Operations And Functions</h4></a><p>Character operations and functions are discussed in more details on
<a href=/cleanpedia/appendix-a/stdchar/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdchar/>Appendix A: StdChar</a>.</p><a href=#lists><h3 id=lists><span class=hanchor arialabel=Anchor># </span>Lists</h3></a><p><strong>Type annotation</strong>:
<code>[Int]</code>,
<code>[Char]</code>,
<code>[T]</code>,
et cetera.</p><a href=#constructing-lists><h4 id=constructing-lists><span class=hanchor arialabel=Anchor># </span>Constructing Lists</h4></a><p>A list can be constructed in many ways, but there are three primary methods.
The simplest way to construct a list is to explicitly write elements between a pair of square brackets (<code>[..]</code>).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[1]
</span></span></code></pre></td></tr></table></div></div><p>Elements are comma (<code>,</code>) separated.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[1, 2, 3]
</span></span></code></pre></td></tr></table></div></div><p>A list may be appended to the end of another list using colon (<code>:</code>).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[1 : [2, 3]]
</span></span></code></pre></td></tr></table></div></div><p>The outer list (<code>[1 : ..]</code>) is constructed by appending the inner list (<code>[2, 3]</code>) to the end.</p><p>As a result, this method of list construction has a wide varieties which can be written.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[1 : [2 : [3 : []]]]
</span></span><span class=line><span class=cl>[1, 2 : [3]]
</span></span><span class=line><span class=cl>[1, 2, 3 : []]
</span></span></code></pre></td></tr></table></div></div><p>Secondly, a list may be implicitly constructed with <code>dot-dot</code> expression, and a control expression may be written as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[initial..]
</span></span></code></pre></td></tr></table></div></div><p>An infinite list is generated from <code>initial</code>, which represents the starting value, subsequent elements are incremented by one.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[1..]  // [1, 2, 3, 4, ...]
</span></span></code></pre></td></tr></table></div></div><p>To create a finite list, an <code>end</code> value may be specified.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[initial..end]
</span></span></code></pre></td></tr></table></div></div><p>By adding <code>end</code>, elements are generated only up to <code>end</code> it self.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[1..5]  // [1, 2, 3, 4, 5]
</span></span></code></pre></td></tr></table></div></div><p>In addition, <code>next</code> value may be specified to change how subsequent elements are generated.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[initial, next..end]
</span></span></code></pre></td></tr></table></div></div><p>Each step is computed from <code>next - initial</code>.
If the next element is strictly greater than <code>end</code>, it will not be included.
It is possible to generate a list which is in descending order.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[1, 3..9]  // [1, 3, 5, 7, 9]
</span></span><span class=line><span class=cl>[5, 4..1]  // [5, 4, 3, 2, 1]
</span></span></code></pre></td></tr></table></div></div><p>By omitting <code>end</code>, an infinite list with step may be generated.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[initial, next..]
</span></span></code></pre></td></tr></table></div></div><p>The expression results in an infinite list.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[1, 3..]  // [1, 3, 5, 7, 9, ...]
</span></span><span class=line><span class=cl>[5, 4..]  // [5, 4, 3, 2, 1, ...]
</span></span></code></pre></td></tr></table></div></div><p>It should be noted that <code>dot-dot</code> expressions requires <code>StdEnum</code> module.</p><p>And lastly, a list may be constructed with comprehension.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// extract from a list
</span></span><span class=line><span class=cl>[el \\ el &lt;- list]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// extract from an array
</span></span><span class=line><span class=cl>[el \\ el &lt;-: array]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// cartesian product
</span></span><span class=line><span class=cl>[(x, y) \\ x &lt;- xs , y &lt;- ys]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// pair-wise zip
</span></span><span class=line><span class=cl>[(x, y) \\ x &lt;- xs &amp; y &lt;- ys]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// same as filter
</span></span><span class=line><span class=cl>[x \\ x &lt;- xs | P x]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// nested
</span></span><span class=line><span class=cl>[(x, y) \\ x &lt;- xs, y &lt;- [1..x]]
</span></span></code></pre></td></tr></table></div></div><p>A special notation for constructing a list of characters is also provided:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]
</span></span><span class=line><span class=cl>[&#39;abc&#39;]
</span></span><span class=line><span class=cl>[&#39;ab&#39;,&#39;c&#39;]
</span></span></code></pre></td></tr></table></div></div><p>A list may contain an infinite number of elements, but elements must have the same type.</p><p>More information about built-in operations and functions on lists can be found on:</p><ul><li><a href=/cleanpedia/appendix-a/stdcharlist/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdcharlist/>Appendix A: StdCharList</a>,</li><li><a href=/cleanpedia/appendix-a/stdlist/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdlist/>Appendix A: StdList</a>, and</li><li><a href=/cleanpedia/appendix-a/stdordlist/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdordlist/>Appendix A: StdOrdList</a>.</li></ul><p><strong>List patterns</strong></p><p>Lists can be specified as patterns as follow:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getFst :: [T]       -&gt; T
</span></span><span class=line><span class=cl>getFst    [x, y, z] =  x
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getSnd :: [T]       -&gt; T
</span></span><span class=line><span class=cl>getSnd    [x, y, z] =  y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getThd :: [T]       -&gt; T
</span></span><span class=line><span class=cl>getThd    [x, y, z] =  z
</span></span></code></pre></td></tr></table></div></div><p>The results of these function calls are as expected:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getFst [1, 2, 3]  // 1
</span></span><span class=line><span class=cl>getSnd [1, 2, 3]  // 2
</span></span><span class=line><span class=cl>getThd [1, 2, 3]  // 3
</span></span></code></pre></td></tr></table></div></div><p>However, they will result in a run-time error if it is invoked with a list which does not have exactly three elements.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getFst [1]          // NOT OK :(
</span></span><span class=line><span class=cl>getSnd [1, 2]       // NOT OK :(
</span></span><span class=line><span class=cl>getThd [4, 3, 2, 1] // NOT OK :(
</span></span></code></pre></td></tr></table></div></div><p>To remedy this issue, an addition element should be introduce.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getFstAny :: [T]     -&gt; T
</span></span><span class=line><span class=cl>getFstAny    [x : r] =  x
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getSndAny :: [T]        -&gt; T
</span></span><span class=line><span class=cl>getSndAny    [x, y : r] =  y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getThdAny :: [T]           -&gt; T
</span></span><span class=line><span class=cl>getThdAny    [x, y, z : r] =  z
</span></span></code></pre></td></tr></table></div></div><p>The right-hand side of colon ($:$) matches with any number of elements, including zero.
It is worth noting that $r$ is always a list.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getFstAny [1]           // x = 1
</span></span><span class=line><span class=cl>                        // r = []
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getFstAny [1, 2]        // x = 1
</span></span><span class=line><span class=cl>                        // r = [2]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getFstAny [4, 3, 2, 1]  // x = 4
</span></span><span class=line><span class=cl>                        // r = [3, 2, 1]
</span></span></code></pre></td></tr></table></div></div><p>However, the second function still requires the list to have at least two elements.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getSndAny [1]           // NOT OK :(
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getSndAny [1, 2]        // x = 1
</span></span><span class=line><span class=cl>                        // y = 2
</span></span><span class=line><span class=cl>                        // r = []
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getSndAny [4, 3 ,2 ,1]  // x = 4
</span></span><span class=line><span class=cl>                        // y = 3
</span></span><span class=line><span class=cl>                        // r = [2, 1]
</span></span></code></pre></td></tr></table></div></div><p>Similarly, the third function requires a list with at least three elements.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getThdAny [1]           // NOT OK :(
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getThdAny [1, 2]        // NOT OK :(
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getThdAny [4, 3, 2, 1]  // x = 4
</span></span><span class=line><span class=cl>                        // y = 3
</span></span><span class=line><span class=cl>                        // z = 2
</span></span><span class=line><span class=cl>                        // r = [1]
</span></span></code></pre></td></tr></table></div></div><a href=#tuples><h3 id=tuples><span class=hanchor arialabel=Anchor># </span>Tuples</h3></a><a href=#defining-a-tuple><h4 id=defining-a-tuple><span class=hanchor arialabel=Anchor># </span>Defining A Tuple</h4></a><p><strong>Type annotation</strong>:
$(\textbf{T},\ \textbf{K})$,
$(\textbf{T},\ \textbf{K},\ \textbf{V})$,
$(\textbf{T},\ \textbf{K},\ \textbf{V},\ \textbf{E})$
et cetera.</p><p>A tuple contains finite number of elements.
Elements do not have to be the same type.
Every type appears in a tuple must be specified, and singleton tuples are not allowed.</p><p><strong>Constructors</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>A :: (Int, Char)
</span></span><span class=line><span class=cl>A =  (49, &#39;1&#39;)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>B :: (Real, Bool, String)
</span></span><span class=line><span class=cl>B =  (0.2, False, &#34;Hi&#34;)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>C :: (Int)
</span></span><span class=line><span class=cl>C =  (2, 6)  // NOT OK should be (Int, Int)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>D :: (Int)
</span></span><span class=line><span class=cl>D =  (2)     // NOT OK
</span></span></code></pre></td></tr></table></div></div><p>More information about built-in operations and functions on lists can be found on:</p><ul><li><a href=/cleanpedia/appendix-a/stdtuple/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdtuple/>Appendix A: StdTuple</a>.</li></ul><a href=#tuple-patterns><h4 id=tuple-patterns><span class=hanchor arialabel=Anchor># </span>Tuple Patterns</h4></a><p>Tuples can be used as patterns in a similar way to lists.
However, colon ($:$) is not allowed in tuple patterns.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getFst :: (T, K, V) -&gt; T
</span></span><span class=line><span class=cl>getFst    (x, y, z) =  x
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getSnd :: (T, K, V) -&gt; K
</span></span><span class=line><span class=cl>getSnd    (x, y, z) =  y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getThd :: (T, K, V) -&gt; V
</span></span><span class=line><span class=cl>getThd    (x, y, z) =  z
</span></span></code></pre></td></tr></table></div></div><p>The results of these function calls are as expected:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getFst (1, &#39;a&#39;, 1.0)  // 1
</span></span><span class=line><span class=cl>getSnd (1, &#39;a&#39;, 1.0)  // &#39;a&#39;
</span></span><span class=line><span class=cl>getThd (1, &#39;a&#39;, 1.0)  // 1.0
</span></span></code></pre></td></tr></table></div></div><a href=#arrays><h3 id=arrays><span class=hanchor arialabel=Anchor># </span>Arrays</h3></a><a href=#defining-an-array><h4 id=defining-an-array><span class=hanchor arialabel=Anchor># </span>Defining An Array</h4></a><p><strong>Type annotation</strong>:
${\textbf{Int}}$,
${\textbf{Char}}$,
${\textbf{T}}$,
et cetera.</p><p>An array contains a finite number of elements.
Elements of an array have to be of the same type.</p><p><strong>Constructors</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{1, 2, 3, 4}
</span></span><span class=line><span class=cl>{1.0, 2.0, 3.0, 4.0}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&#34;abc&#34;
</span></span><span class=line><span class=cl>// equivalent to
</span></span><span class=line><span class=cl>// {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;}
</span></span></code></pre></td></tr></table></div></div><p>An array can be constructed from comprehension by surrounding a comprehension with ${\ldots}$.</p><p>More information about built-in operations and functions on lists can be found on:</p><ul><li><a href=/cleanpedia/appendix-a/stdarray/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdarray/>Appendix A: StdArray</a>, and</li><li><a href=/cleanpedia/appendix-a/stdstring/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdstring/>Appendix A: StdString</a>.</li></ul><hr><a href=#defining-new-types><h2 id=defining-new-types><span class=hanchor arialabel=Anchor># </span>Defining New Types</h2></a><p>As a strongly typed language, every object and function in CLEAN has a type.
The basic can be extended with algebraic types, record types, abstract types and synonym types.</p><p>New types can only be defined on the global level.</p><a href=#algebraic-data-types><h3 id=algebraic-data-types><span class=hanchor arialabel=Anchor># </span>Algebraic Data Types</h3></a><a href=#defining-an-algebraic-data-type><h4 id=defining-an-algebraic-data-type><span class=hanchor arialabel=Anchor># </span>Defining An Algebraic Data Type</h4></a><p>An algebraic data type introduces a new data structure and a constructor.</p><p>It has the following syntax.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: [tName] = [tConstructor]
</span></span></code></pre></td></tr></table></div></div><p>An algebraic data type can have multiple constructors.
Constructors defined in the same global scope must have names.
Constructors must be separated by a vertical bar ($|$).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: [tName] = [tConstructorA] | [tConstructorB] | [tConstructorC]
</span></span></code></pre></td></tr></table></div></div><p>For readability, constructors may be placed on different lines.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: [tName] = [tConstructorA]
</span></span><span class=line><span class=cl>           | [tConstructorB]
</span></span><span class=line><span class=cl>           | [tConstructorC]
</span></span></code></pre></td></tr></table></div></div><p>For example, a basic algebraic type can be defined as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Mood = Happy | Sad
</span></span></code></pre></td></tr></table></div></div><p>Constructors also accept types as arguments, but they must be declared on the left-hand side.
Once declared, these generic types can be referred to by any of its constructors.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: [tName] T K = [tConstructorA] T
</span></span><span class=line><span class=cl>               | [tConstructorB] K
</span></span><span class=line><span class=cl>               | [tConstructorC] T K
</span></span></code></pre></td></tr></table></div></div><p>For example, a binary tree, which is has a recursive structure can be defined as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Tree = Branch Tree Tree
</span></span><span class=line><span class=cl>        | Leaf
</span></span></code></pre></td></tr></table></div></div><p>An infix constructor is defined by surrounding its name with parentheses.
They must have an arity of two.
The precedence and fixity of an such constructor follows that of an operator, which is discussed in Chapter I.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: [tName] T K =  [tConstructorA]  T
</span></span><span class=line><span class=cl>               |  [tConstructorB]  K
</span></span><span class=line><span class=cl>               | ([tConstructorC]) T K
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: [tName] T K =  [tConstructorA]  T
</span></span><span class=line><span class=cl>               |  [tConstructorB]  K
</span></span><span class=line><span class=cl>               | ([tConstructorC]) [fixity] [precedence] T K
</span></span></code></pre></td></tr></table></div></div><p>For example, the $\text{Branch}$ constructor can be rewritten as an infix constructor.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: TreeInfix = (/\) infixr 0 Tree Tree
</span></span><span class=line><span class=cl>             | Leaf
</span></span></code></pre></td></tr></table></div></div><p>The precedence and fixity of an infix constructor can be omitted.
The default precedence is $9$, and the default fixity is $\textbf{infixl}$.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: TreeInfix = (/\) Tree Tree
</span></span><span class=line><span class=cl>             | Leaf
</span></span></code></pre></td></tr></table></div></div><a href=#creating-objects-of-algebraic-data-types><h4 id=creating-objects-of-algebraic-data-types><span class=hanchor arialabel=Anchor># </span>Creating Objects Of Algebraic Data Types</h4></a><p>Objects of simple algebraic data types are created by invoking one of its constructors.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Mood = Sad | Happy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>A :: Mood
</span></span><span class=line><span class=cl>A =  Happy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>B :: Mood
</span></span><span class=line><span class=cl>B =  Sad
</span></span></code></pre></td></tr></table></div></div><p>If a constructor accepts arguments, it should be invoked with appropriate arguments.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Tree = Branch Tree Tree
</span></span><span class=line><span class=cl>        | Leaf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>A :: Tree
</span></span><span class=line><span class=cl>A =  Leaf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>B :: Tree
</span></span><span class=line><span class=cl>B =  Branch Leaf Leaf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>C :: Tree
</span></span><span class=line><span class=cl>C =  Branch Leaf (Branch Leaf Leaf)
</span></span></code></pre></td></tr></table></div></div><p>Infix constructors behave in a similar way.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: TreeInfix = (/\) TreeInfix TreeInfix
</span></span><span class=line><span class=cl>               | Leaf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>A :: TreeInfix
</span></span><span class=line><span class=cl>A =  Leaf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>B :: TreeInfix
</span></span><span class=line><span class=cl>B =  Leaf /\ Leaf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>C :: TreeInfix
</span></span><span class=line><span class=cl>C =  (/\) Leaf Leaf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>D :: TreeInfix
</span></span><span class=line><span class=cl>D =  Leaf /\ (Leaf /\ Leaf)
</span></span></code></pre></td></tr></table></div></div><a href=#algebraic-data-type-patterns><h4 id=algebraic-data-type-patterns><span class=hanchor arialabel=Anchor># </span>Algebraic Data Type Patterns</h4></a><p>To use a algebraic data type as a pattern, use its constructors.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Mood = Sad | Happy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>isHappy :: Mood    -&gt; Bool
</span></span><span class=line><span class=cl>isHappy    (Happy) =  True
</span></span><span class=line><span class=cl>isHappy    _       =  False
</span></span></code></pre></td></tr></table></div></div><p>With the same process, complex algebraic data types can be used as patterns as well.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Tree = Branch Tree Tree
</span></span><span class=line><span class=cl>        | Leaf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>isBranch :: Tree           -&gt; Bool
</span></span><span class=line><span class=cl>isBranch    (Branch l r)   =  True
</span></span><span class=line><span class=cl>isBranch    _              =  False
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: TreeInfix = (/\) TreeInfix TreeInfix
</span></span><span class=line><span class=cl>               | Leaf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>isBranchInfix :: TreeInfix -&gt; Bool
</span></span><span class=line><span class=cl>isBranchInfix   (l/\r)     =  True
</span></span><span class=line><span class=cl>isBranchInfix   _          =  False
</span></span></code></pre></td></tr></table></div></div><a href=#record-types><h3 id=record-types><span class=hanchor arialabel=Anchor># </span>Record Types</h3></a><p>A record type is an algebraic data type in which exactly one constructor is defined.
A field name is attached to each of the arguments of the constructor.</p><a href=#defining-a-record-type><h4 id=defining-a-record-type><span class=hanchor arialabel=Anchor># </span>Defining A Record Type</h4></a><p>A record type is a tuple-like algebraic data structure that has the advantage that its elements can be selected by field name rather than by position.</p><p>A simple record type can be defined as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: [tName] = { [fieldName] :: [fieldType] }
</span></span></code></pre></td></tr></table></div></div><p>Fields must be separated commas ($,$).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: [tName] = { [fNameA] :: [fTypeA] , [fNameB] :: [fTypeB] , [fNameC] :: [fTypeC]  }
</span></span></code></pre></td></tr></table></div></div><p>To increase readability, fields can be placed on different lines.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: [tName] = { [fNameA] :: [fTypeA]
</span></span><span class=line><span class=cl>             , [fNameB] :: [fTypeB]
</span></span><span class=line><span class=cl>             , [fNameC] :: [fTypeC]
</span></span><span class=line><span class=cl>             }
</span></span></code></pre></td></tr></table></div></div><p>For example, a record type for representing complex numbers can be defined as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Complex = { re :: Real
</span></span><span class=line><span class=cl>             , im :: Real
</span></span><span class=line><span class=cl>             }
</span></span></code></pre></td></tr></table></div></div><a href=#creating-objects-of-record-types><h4 id=creating-objects-of-record-types><span class=hanchor arialabel=Anchor># </span>Creating Objects Of Record Types</h4></a><p>The field names are case-sensitive, but the field order does not matter.
Every field of a record type must be given.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Complex = { re :: Real
</span></span><span class=line><span class=cl>             , im :: Real
</span></span><span class=line><span class=cl>             }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>A :: Complex
</span></span><span class=line><span class=cl>A =  { re = 1.0 , im = 0.0 }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>B :: Complex
</span></span><span class=line><span class=cl>B =  { im = 1.0 , re = 0.0}
</span></span></code></pre></td></tr></table></div></div><p>The name of a record type can be added to the constructor.
In such a case, the type annotation can be omitted.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Point = { x :: Int
</span></span><span class=line><span class=cl>           , y :: Int
</span></span><span class=line><span class=cl>           }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Position = { x :: Int
</span></span><span class=line><span class=cl>              , y :: Int
</span></span><span class=line><span class=cl>              }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// A :: Point
</span></span><span class=line><span class=cl>// A =  { x = 0 , y = 0 }
</span></span><span class=line><span class=cl>A =  { Point | x = 0 , y = 0 }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// B :: Position
</span></span><span class=line><span class=cl>// B =  { x = 0 , y = 0 }
</span></span><span class=line><span class=cl>B =  { Position | x = 0 , y = 0 }
</span></span></code></pre></td></tr></table></div></div><p><strong>Record update</strong></p><p>A new record object can be constructed from an existing one.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{ [oldObject] &amp; [fName] = [newValue] }
</span></span></code></pre></td></tr></table></div></div><p>Multiple fields can be updated all at once.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{ [oldObject] &amp; [fNameA] = [newValueA] , [fNameB] = [newValueB] }
</span></span></code></pre></td></tr></table></div></div><p>For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: PosThree = { x :: Int
</span></span><span class=line><span class=cl>              , y :: Int
</span></span><span class=line><span class=cl>              , z :: Int
</span></span><span class=line><span class=cl>              }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>A :: PosThree
</span></span><span class=line><span class=cl>A =  { x = 0 , y = 0 , z = 0 }  // (PosThree 0 0 0)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>B :: PosThree
</span></span><span class=line><span class=cl>B =  { A &amp; x = 1 , y = 1 }      // (PosThree 1 1 0)
</span></span></code></pre></td></tr></table></div></div><a href=#record-type-patterns><h4 id=record-type-patterns><span class=hanchor arialabel=Anchor># </span>Record Type Patterns</h4></a><p>An object of type record can be specified as pattern.
Not every field must be used.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: PosThree = { x :: Int
</span></span><span class=line><span class=cl>              , y :: Int
</span></span><span class=line><span class=cl>              , z :: Int
</span></span><span class=line><span class=cl>              }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>isZeroX :: PosThree -&gt; Bool
</span></span><span class=line><span class=cl>isZeroX    { x=0 }  =  True
</span></span><span class=line><span class=cl>isZeroX    _        =  False
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>A :: PosThree
</span></span><span class=line><span class=cl>A =  { x = 0 , y = 0 , z = 0 }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>isZeroX A  // True
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>B :: PosThree
</span></span><span class=line><span class=cl>B =  { A &amp; x = 1 , y = 1 }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>isZeroX B  // False
</span></span></code></pre></td></tr></table></div></div><p>Alternatively, record fields can be extracted without patterns.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: PosThree = { x :: Int
</span></span><span class=line><span class=cl>              , y :: Int
</span></span><span class=line><span class=cl>              , z :: Int
</span></span><span class=line><span class=cl>              }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>isZeroY :: PosThree -&gt; Bool
</span></span><span class=line><span class=cl>isZeroY    { y=r }    =  r == 0
</span></span></code></pre></td></tr></table></div></div><p>In the implementation above, the record field $y$ is extracted to $r$.
It can be used referred by the body.</p><p>Record fields can be extracted to an identifier of the same name.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>:: PosThree = { x :: Int
</span></span><span class=line><span class=cl>              , y :: Int
</span></span><span class=line><span class=cl>              , z :: Int
</span></span><span class=line><span class=cl>              }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>isZeroZ :: PosThree -&gt; Bool
</span></span><span class=line><span class=cl>isZeroZ    { z }    =  z == 0
</span></span></code></pre></td></tr></table></div></div><p>The implementation above is equivalent to the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>isZeroZ :: PosThree -&gt; Bool
</span></span><span class=line><span class=cl>isZeroZ    { z=z }  =  z == 0
</span></span></code></pre></td></tr></table></div></div><p><strong>Record field selection</strong></p><p>The value of a record field can be selected using dot operator ($.$).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[recordObj].[fName]
</span></span></code></pre></td></tr></table></div></div><p>For example, a simple getter function on $\textbf{Point}$ can be defined as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>:: Point = { x :: Int
</span></span><span class=line><span class=cl>           , y :: Int
</span></span><span class=line><span class=cl>           }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getX :: Point -&gt; Int
</span></span><span class=line><span class=cl>getX    p     =  p.x
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>A :: Point
</span></span><span class=line><span class=cl>A =  { x = 1 , y = 0 }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>getX a  // 1
</span></span></code></pre></td></tr></table></div></div><a href=#synonym-types><h3 id=synonym-types><span class=hanchor arialabel=Anchor># </span>Synonym Types</h3></a><p>Synonym types allow for an introduction of a new type name for an existing type.</p><a href=#defining-a-synonym-type><h4 id=defining-a-synonym-type><span class=hanchor arialabel=Anchor># </span>Defining A Synonym Type</h4></a><p>A simple synonym type has the follow syntax:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: [tName] :== [existingType]
</span></span></code></pre></td></tr></table></div></div><p>For example, an array of characters can be viewed as a string.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: String :== {Char}
</span></span></code></pre></td></tr></table></div></div><p>Synonym types also accept generic types as arguments.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: [tName] T K :== [existingType] T K
</span></span></code></pre></td></tr></table></div></div><p>For example, an arity-two operator can be shortened with a synonym type.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Op T :== T T -&gt; T
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// add :: Int Int -&gt; Int
</span></span><span class=line><span class=cl>add :: (Op Int)
</span></span></code></pre></td></tr></table></div></div><hr><a href=#overloading><h2 id=overloading><span class=hanchor arialabel=Anchor># </span>Overloading</h2></a><a href=#overloaded-functions><h3 id=overloaded-functions><span class=hanchor arialabel=Anchor># </span>Overloaded Functions</h3></a><p>Functions and operators are defined on built-in types.
However, when interacting with custom data types, they do not have any defined function or operator.</p><p>That is, adding two objects of $\textbf{Complex}$ type is not allowed.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Complex = { re :: Real
</span></span><span class=line><span class=cl>             , im :: Real
</span></span><span class=line><span class=cl>             }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>a :: Complex
</span></span><span class=line><span class=cl>a =  { re = 0.0 , im = 1.0 }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>b :: Complex
</span></span><span class=line><span class=cl>b =  { re = 0.0 , im = 1.0 }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>a + b  // NOT OK :(
</span></span></code></pre></td></tr></table></div></div><p>This happens because addition is not defined on $\textbf{Complex}$ type.</p><p>In this case, addition can be overloaded on $\textbf{Complex}$ type.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>instance + Complex
</span></span><span class=line><span class=cl>where
</span></span><span class=line><span class=cl>    (+) x y = { Complex | re=(x.re + y.re) , im=(x.im + y.im)}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>a + b  // (Complex 0.0 2.0)
</span></span></code></pre></td></tr></table></div></div><p>Only after overloading the addition operation on $\textbf{Complex}$ that the addition is allowed.
In other word, the complier now knows the meaning of complex number addition.</p><p>A list of functions and operations which can be overloaded can be found on
<a href=/cleanpedia/appendix-a/stdoverloaded/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdoverloaded/>Appendix A: StdOverloaded</a>.</p><a href=#defining-an-overloaded-function-or-operator><h4 id=defining-an-overloaded-function-or-operator><span class=hanchor arialabel=Anchor># </span>Defining An Overloaded Function Or Operator</h4></a><p>To overload the built-in functions and operations, the general syntax is as follows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>instance [clsName] [typeVars]
</span></span><span class=line><span class=cl>where
</span></span><span class=line><span class=cl>    [fnImplementation]
</span></span><span class=line><span class=cl>    [opImplementation]
</span></span></code></pre></td></tr></table></div></div><p>Functions and operators can be defined in terms of existing overloaded functions.
This is especially useful when dealing with generic types.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>increment :: T -&gt; T
</span></span><span class=line><span class=cl>increment    x =  x + 1
</span></span></code></pre></td></tr></table></div></div><p>It is adding an object of type $\textbf{T}$ and $1$ which is an integer.
Unless the addition is instantiated for mentioned types, this implementation would not work as intended.</p><p>One way to ensure that it works for all type is to introduce class context.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>increment :: T -&gt; T | + T &amp; one T
</span></span><span class=line><span class=cl>increment    x =  x + one
</span></span></code></pre></td></tr></table></div></div><p>The new implementation requires that the addition operation, as well as, $\textbf{one}$ unit is defined on a generic type $\textbf{T}$.</p><p>In this case, the function is defined in terms of an overloaded function and a unit.</p><p>Such declaration has the following syntax.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[fnName] :: [typeVars] -&gt; [typeVar] | [clsConstraints]
</span></span></code></pre></td></tr></table></div></div><p>Class constraints are separated by ampersands ($&$).</p><a href=#classes><h3 id=classes><span class=hanchor arialabel=Anchor># </span>Classes</h3></a><p>A class gives name to a group of overloaded functions and operators.
These functions and operators are members of the class.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>class Equal T
</span></span><span class=line><span class=cl>where
</span></span><span class=line><span class=cl>    (==) infixl 4 :: T T -&gt; Bool
</span></span><span class=line><span class=cl>    (&lt;&gt;) infixl 4 :: T T -&gt; Bool
</span></span></code></pre></td></tr></table></div></div><p>The class $\text{Eq}$ has two members.
They are equality and inequality operators.</p><p>To instantiate a class, all of its members must be implemented.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>instance Equal Complex
</span></span><span class=line><span class=cl>where
</span></span><span class=line><span class=cl>    (==) x y = (x.re == y.re) &amp;&amp; (x.im == y.im)
</span></span><span class=line><span class=cl>    (&lt;&gt;) x y = (x.re &lt;&gt; y.re) || (x.im &lt;&gt; y.im))
</span></span></code></pre></td></tr></table></div></div><p>A list of classes can be found on
<a href=/cleanpedia/appendix-a/stdclass/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/stdclass/>Appendix A: StdClass</a>.</p><a href=#defining-a-class><h4 id=defining-a-class><span class=hanchor arialabel=Anchor># </span>Defining A Class</h4></a><p>As shown above, a class simple provides a name to collection of logically-linked functions and operations.</p><p>It can be defined with the following syntax.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>class [clsName] [typeVars]
</span></span><span class=line><span class=cl>where
</span></span><span class=line><span class=cl>    [fnDeclaration]
</span></span><span class=line><span class=cl>    [opDeclaration]
</span></span></code></pre></td></tr></table></div></div><p>Type variables declared can be referred to by all of its member, but they must be given as arguments when the class is instantiated.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Language: Clean
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>class MinMaxC T K
</span></span><span class=line><span class=cl>where
</span></span><span class=line><span class=cl>    minC :: T T -&gt; K
</span></span><span class=line><span class=cl>    maxC :: T T -&gt; K
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>instance MinMax Real Int
</span></span><span class=line><span class=cl>where
</span></span><span class=line><span class=cl>    minC x y = toInt (min x y)
</span></span><span class=line><span class=cl>    maxC x y = toInt (max x y)
</span></span></code></pre></td></tr></table></div></div><hr><a href=#appendix-a-standard-environment><h2 id=appendix-a-standard-environment><span class=hanchor arialabel=Anchor># </span>Appendix A: Standard Environment</h2></a><p>The Standard Environment is discussed in detail
<a href=/cleanpedia/appendix-a/introduction/ rel=noopener class=internal-link data-src=/cleanpedia/appendix-a/introduction/>here</a>.</p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://eurydia.github.io/cleanpedia/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by Thanakorn Phuttharaksa using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2023</p><ul><li><a href=https://www.instagram.com/_kornthana/>Instagram</a></li><li><a href=mailto:b9xp3x@inf.elte.hu>Email</a></li><li><a href=https://t.me/+El6CtwOD8KxhYmU9>Telegram</a></li></ul></footer></div></div></body></html>